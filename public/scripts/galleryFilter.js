const filter_container=document.querySelector(".filter-buttons"),filters=document.querySelectorAll(".button-2");let filter_arr=Array.from(filters).slice(1);const gallery_container=document.querySelector(".gallery-container"),galleries=document.querySelectorAll(".home-gallery");let gallery_array=Array.from(galleries);function compFn(e,l){let r=e.classList.contains("b3-selected"),t=l.classList.contains("b3-selected");return!r&&t?1:r&&!t?-1:0}function sortFilter(){filter_arr.sort(compFn),filter_arr.forEach(e=>filter_container.appendChild(e))}function b3_active(e){filters[e].classList.add("b3-selected"),filters[e].querySelector(".b3-x").classList.remove("hidden"),1==num_selected&&gallery_array.forEach(e=>gallery_container.removeChild(e)),gallery_container.appendChild(gallery_array[e-1]),sortFilter(),filters[0].classList.remove("b2-selected")}function b3_unactive(e){filters[e].classList.remove("b3-selected"),filters[e].querySelector(".b3-x").classList.add("hidden"),gallery_container.contains(gallery_array[e-1])&&gallery_container.removeChild(gallery_array[e-1]),0==num_selected?(filters[0].classList.add("b2-selected"),gallery_array.forEach(e=>gallery_container.appendChild(e))):sortFilter()}let num_selected=0;for(let i=1;i<filters.length;i++)filters[i].addEventListener("click",function(){filters[i].classList.contains("b3-selected")?(num_selected--,b3_unactive(i)):(num_selected++,b3_active(i))});filters[0].addEventListener("click",function(){if(this.classList.add("b2-selected"),0!=num_selected)for(let e=1;e<filters.length;e++)b3_unactive(e),galleries[e-1].classList.remove("hidden");gallery_array.forEach(e=>gallery_container.appendChild(e)),num_selected=0});